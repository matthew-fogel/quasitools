<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>drmutations - quasitools</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../stylesheets/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "drmutations";
    var mkdocs_page_input_path = "drmutations.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> quasitools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../requirements/">Requirements</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../installation/">Installation</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../formats/">Data Formats</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../aacoverage/">aacoverage</a>
                </li>
                <li class="">
                    
    <a class="" href="../aavar/">call aavr</a>
                </li>
                <li class="">
                    
    <a class="" href="../codonvar/">call codonvar</a>
                </li>
                <li class="">
                    
    <a class="" href="../ntvar/">call ntvar</a>
                </li>
                <li class="">
                    
    <a class="" href="../complexity/">complexity</a>
                </li>
                <li class="">
                    
    <a class="" href="../consensus/">consensus</a>
                </li>
                <li class="">
                    
    <a class="" href="../distance/">distance</a>
                </li>
                <li class="">
                    
    <a class="" href="../dnds/">dnds</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">drmutations</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#drug-resistance-mutations">Drug Resistance Mutations</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#basic-usage">Basic Usage</a></li>
        
            <li><a class="toctree-l4" href="#arguments">Arguments</a></li>
        
            <li><a class="toctree-l4" href="#options">Options</a></li>
        
            <li><a class="toctree-l4" href="#example">Example</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../hydra/">hydra</a>
                </li>
                <li class="">
                    
    <a class="" href="../quality/">quality</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../contact/">Contact</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../legal/">Legal</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">quasitools</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Tools &raquo;</li>
        
      
    
    <li>drmutations</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="drug-resistance-mutations">Drug Resistance Mutations</h1>
<p>Generates a report detailing the drug resistant mutations found. This tool identifies which nucleotide mutations, identified in the VCF file, have resulted in a noteworthy amino acid mutation, as specified by the mutation database. Please refer to <a href="../formats">Data Formats</a> for detailed information about the the expected input formats for this tool.</p>
<h2 id="basic-usage">Basic Usage</h2>
<pre><code class="bash">quasitools drmutations [options] &lt;BAM file&gt; &lt;reference file&gt; &lt;variants file&gt; &lt;bed file&gt; &lt;mutation db&gt;
</code></pre>

<h2 id="arguments">Arguments</h2>
<h3 id="bam-file">BAM File</h3>
<p>A <a href="https://samtools.github.io/hts-specs/SAMv1.pdf">BAM</a> file (.bam) of sequences aligned to a related reference. A BAM index file (.bai) is also required and should be named the same as the BAM file, with the extension instead changed from ".bam" to ".bai".</p>
<h3 id="reference-file">Reference File</h3>
<p>A reference file related to the aligned sequences in the BAM file. The provided reference file must be the same reference file used when producing the BAM and BAM index files.</p>
<h3 id="variants-file">Variants File</h3>
<p>A VCF-formated file containing information about nucleotide variants in the reads with respect to an aligned to the provided reference. The read alignment information is taken from the provided BAM file. Only mutations which <code>PASS</code> the VCF filters will be considered when running the tool. Additionally, a VCF file may be created using <a href="../ntvar">quasitools call ntvar</a>.</p>
<h3 id="bed-file">BED File</h3>
<p>A <a href="https://bedtools.readthedocs.io/en/latest/content/general-usage.html">BED file</a> that specifies the coordinates of genes, with repsect to the provided reference. This BED file must be a BED4+ file and therefore contain at least the first 4 BED file columns. The "names" of these genetic regions in the BED4 file must be the same names used in the "genetic regions" column of the mutation database. Please refer to <a href="../formats">Data Formats</a> for more information.</p>
<h3 id="mutation-database">Mutation Database</h3>
<p>The mutation database describes specific mutations within the named genetic regions specified previously in the BED4 file. When provided to the tool. The entries in the "genetic regions" colummn of this database must match the "names" column of the provided BED4 file. Please refer to <a href="../formats">Data Formats</a> for more information.</p>
<h2 id="options">Options</h2>
<h3 id="reporting-threshold">Reporting Threshold</h3>
<pre><code class="text">-t, --reporting_threshold INTEGER  
</code></pre>

<p>The minimum number of observations required in the read data (BAM file) for an entry to be reported in the drug resistance report. Mutations with a number of observations less than this will not be reported. The default value is 1. </p>
<h3 id="output">Output</h3>
<pre><code class="text">-o, --output FILENAME
</code></pre>

<p>The file output location to write the identified drug resistant mutations.</p>
<h2 id="example">Example</h2>
<h3 id="data">Data</h3>
<ul>
<li><a href="../data/variant.bam">variant.bam</a></li>
<li><a href="../data/variant.bai">variant.bai</a></li>
<li><a href="../data/hiv.fasta">hiv.fasta</a></li>
<li><a href="../data/variant.vcf">variant.vcf</a></li>
<li><a href="../data/hiv.bed">hiv.bed</a></li>
<li><a href="../data/hiv_db.tsv">hiv_db.tsv</a></li>
</ul>
<h3 id="command">Command</h3>
<pre><code class="bash">quasitools drmutations variant.bam hiv.fasta variant.vcf hiv.bed hiv_db.tsv
</code></pre>

<h3 id="output_1">Output</h3>
<pre><code class="text">Chromosome,Gene,Category,Surveillance,Wildtype,Position,Mutation,Mutation Frequency,Coverage
AF033819.3,gag,major,Yes,A,3,P,100.00,140
AF033819.3,gag,minor,No,Y,441,S,100.00,109
AF033819.3,pol,major,Yes,G,96,E,100.00,128
AF033819.3,pol,minor,No,Q,246,H,100.00,139
AF033819.3,vpu,major,Yes,L,34,I,100.00,118
AF033819.3,env,minor,No,N,67,T,100.00,116
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../hydra/" class="btn btn-neutral float-right" title="hydra">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../dnds/" class="btn btn-neutral" title="dnds"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright Government of Canada 2017-2019</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../dnds/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../hydra/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
